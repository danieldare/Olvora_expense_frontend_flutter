# Firebase setup

The app initializes Firebase using **FlutterFire-generated options** from `lib/firebase_options.dart`. API keys and config files are **not committed** to the repo for security.

## First-time setup (after clone)

1. **Install FlutterFire CLI** (if needed):
   ```bash
   dart pub global activate flutterfire_cli
   ```

2. **Generate config and keys**:
   ```bash
   flutterfire configure
   ```
   This will:
   - Link or create a Firebase project
   - Register your app (Android package name and iOS bundle ID)
   - Generate `lib/firebase_options.dart`, `android/app/google-services.json`, and `ios/Runner/GoogleService-Info.plist`

3. **Do not commit** the generated files that contain real API keys. They are listed in `.gitignore`.

## If you see a Firebase initialization error

Run `flutterfire configure` as above. Ensure bundle ID / package name match:
- **Android**: Package name in Firebase Console must match `applicationId` in `android/app/build.gradle.kts`.
- **iOS**: Bundle ID in Firebase Console must match `PRODUCT_BUNDLE_IDENTIFIER` in Xcode.

## Files involved

| File | Purpose |
|------|--------|
| `lib/firebase_options.dart` | Generated by `flutterfire configure`; **do not commit** (in `.gitignore`). Repo has a placeholder. |
| `android/app/google-services.json` | Android config; **do not commit** (in `.gitignore`). |
| `ios/Runner/GoogleService-Info.plist` | iOS config; **do not commit** (in `.gitignore`). |

## If API keys were exposed

If you received a security alert about exposed API keys:

1. **Rotate the keys** in [Google Cloud Console](https://console.cloud.google.com) → APIs & Services → Credentials. Restrict the new key (e.g. Android app restriction by package name, iOS by bundle ID).
2. Run `flutterfire configure` again to regenerate config with the new keys.
3. Do not commit the regenerated files.
